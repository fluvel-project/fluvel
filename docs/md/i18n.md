# 4. `i18n` Management

The native internationalization (`i18n`) system in `Fluvel` completely separates textual content from application logic. Similar to the theme system, it is based on a directory structure within `static/i18n/` and uses `.fluml` (Fluvel Markup Language) files for global application text and `.xml` for menu structures.

```powershell
├───static                      # Specialized directory for themes and languages
│   ├───i18n                    # Fluml and i18n content files -- (!)
│   │   ├───en                  # (Example) Language files for English
│   │   └───es                  # (Example) Language files for Spanish
```

## 4.1 Configuration and Active Language
To define the default application language, edit your `config.toml` file:
```toml
[ui]
language = "en" # Language code (must match a folder in static/i18n/) 
```

**Changing Language at Runtime**: Just like with themes, you can change the language dynamically using the global manager `er`.

```python
from fluvel import er

# Change language immediately
er.set_lang("es")

# Useful for clickable elements
er.as_set_lang("es")
```

## 4.2 Fluml (Fluvel Markup Language)

Fluml is `Fluvel's` own DSL (Domain Specific Language) designed to completely decouple text from logic. It allows defining text with a lightweight markdown-like format, with support for **RGBA colors** and dynamic variables (`placeholders`) that will be replaced at runtime.

```text
# Example .fluml file
.. home.title: Welcome to **Fluvel**

.. txt.welcome: 
    **Hi!** {name}, this is *a* __demonstration__. 
    Check our *{ Github | https://www.github.com }* page.
```

> [!NOTE]
> Before writing in `.fluml` files, it is recommended to check the [syntactic and style rules](engines/fluml.md) of the `Fluml` language.

```python
from fluvel import er

with self.Vertical() as v:
    v.Label(text=er("home.title"))

    # Automatically supports dynamic placeholders
    v.Label(text=er("txt.welcome", name="John"))
```

> [!IMPORTANT] 
> **Total Reactivity**: If the user changes the application language at runtime, all widgets using this syntax will automatically update with the new translation, keeping the dynamic data (`placeholders`) intact.
>
> **Production Efficiency**: In production mode (`fluvel build`), `Fluvel` pre-compiles `.fluml` files into an optimized `.json` format to reduce application load time.

### Example

<p align="center">
  <img src="../../assets/gifs/i18n-demo.gif" alt="Fluvel i18n Demo" width="100%">
  <br>
  <i>Dynamic language switching powered by Fluvel's decoupled resource architecture.</i>
</p>